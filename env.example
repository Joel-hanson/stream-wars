# ==========================================
# Stream Wars - Environment Configuration
# ==========================================

# ==========================================
# Kafka Configuration
# ==========================================

# Kafka brokers (comma-separated list)
# Examples:
#   Local: 127.0.0.1:9092
#   Multiple: broker1:9092,broker2:9092,broker3:9092
#   Cloud: kafka.example.com:9093
KAFKA_BROKERS=127.0.0.1:9092

# Kafka client ID (used to identify this application)
KAFKA_CLIENT_ID=stream-wars-app

# Kafka topic for game events
KAFKA_TOPIC=game-taps

# Connection timeouts (milliseconds)
KAFKA_CONNECTION_TIMEOUT=10000
KAFKA_REQUEST_TIMEOUT=30000

# ==========================================
# Kafka SSL/TLS Configuration
# ==========================================

# Enable SSL/TLS connection
# Set to 'true' to enable SSL
KAFKA_SSL=false

# Reject unauthorized certificates (set to 'false' for self-signed certs in dev)
KAFKA_SSL_REJECT_UNAUTHORIZED=true

# ==========================================
# Kafka SSL Certificate Configuration
# ==========================================
# You can provide certificates in two ways:
# 1. File paths (recommended for production)
# 2. Inline PEM strings (for container environments)

# Option 1: Certificate file paths
# ---------------------------------
# CA certificate path (required for SSL)
# KAFKA_SSL_CA_PATH=./certs/ca-cert.pem

# Client certificate path (required for MTLS)
# KAFKA_SSL_CERT_PATH=./certs/client-cert.pem

# Client private key path (required for MTLS)
# KAFKA_SSL_KEY_PATH=./certs/client-key.pem

# Private key passphrase (if your key is encrypted)
# KAFKA_SSL_KEY_PASSPHRASE=your-passphrase-here

# Option 2: Inline certificates (use for Docker secrets or CI/CD)
# ----------------------------------------------------------------
# CA certificate (PEM format, use \n for newlines or actual newlines)
# KAFKA_SSL_CA=-----BEGIN CERTIFICATE-----\nMIID...\n-----END CERTIFICATE-----

# Client certificate (PEM format)
# KAFKA_SSL_CERT=-----BEGIN CERTIFICATE-----\nMIID...\n-----END CERTIFICATE-----

# Client private key (PEM format)
# KAFKA_SSL_KEY=-----BEGIN PRIVATE KEY-----\nMIIE...\n-----END PRIVATE KEY-----

# ==========================================
# Kafka SASL Authentication
# ==========================================

# SASL mechanism
# Options: plain | scram-sha-256 | scram-sha-512
# - plain: Basic authentication (use with SSL)
# - scram-sha-256: SCRAM-SHA-256 (secure, recommended)
# - scram-sha-512: SCRAM-SHA-512 (most secure, recommended)
KAFKA_SASL_MECHANISM=scram-sha-256

# Kafka credentials
KAFKA_USERNAME=
KAFKA_PASSWORD=

# ==========================================
# WebSocket Configuration
# ==========================================

# WebSocket URL for client connections
# Development: ws://localhost:3001
# Production: wss://your-domain.com:3001 or wss://your-domain.com/ws
NEXT_PUBLIC_WS_URL=ws://localhost:3001

# WebSocket server port
WS_PORT=3001

# ==========================================
# Redis Configuration
# ==========================================

# Redis connection URL
# Local: redis://localhost:6379
# With auth in URL: redis://:password@localhost:6379
# Cloud: redis://user:password@redis.example.com:6379
# Note: You can also use REDIS_PASSWORD env var instead of embedding in URL
REDIS_URL=redis://localhost:6379

# Redis password (optional - alternative to embedding password in REDIS_URL)
# If set, this will be used for authentication instead of password in URL
# Leave empty if password is included in REDIS_URL or if Redis has no password
REDIS_PASSWORD=

# ==========================================
# Application Configuration
# ==========================================

# Node environment
NODE_ENV=development

# NextAuth secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-secret-key-here

# ==========================================
# Example Configurations
# ==========================================

# Example 1: Local development (no security)
# -------------------------------------------
# KAFKA_BROKERS=127.0.0.1:9092
# KAFKA_SSL=false
# KAFKA_USERNAME=
# KAFKA_PASSWORD=

# Example 2: Cloud Kafka with SCRAM-SHA-256 and SSL
# --------------------------------------------------
# KAFKA_BROKERS=kafka.example.com:9093
# KAFKA_SSL=true
# KAFKA_SSL_CA_PATH=./certs/ca-cert.pem
# KAFKA_SASL_MECHANISM=scram-sha-256
# KAFKA_USERNAME=stream-wars-user
# KAFKA_PASSWORD=your-secure-password

# Example 3: On-premises Kafka with MTLS
# ---------------------------------------
# KAFKA_BROKERS=kafka1.internal:9093,kafka2.internal:9093,kafka3.internal:9093
# KAFKA_SSL=true
# KAFKA_SSL_CA_PATH=./certs/ca-cert.pem
# KAFKA_SSL_CERT_PATH=./certs/client-cert.pem
# KAFKA_SSL_KEY_PATH=./certs/client-key.pem
# KAFKA_SSL_KEY_PASSPHRASE=your-key-passphrase
# KAFKA_SASL_MECHANISM=scram-sha-512
# KAFKA_USERNAME=stream-wars-client
# KAFKA_PASSWORD=your-secure-password

# Example 4: Confluent Cloud
# ---------------------------
# KAFKA_BROKERS=pkc-xxxxx.us-east-1.aws.confluent.cloud:9092
# KAFKA_SSL=true
# KAFKA_SASL_MECHANISM=plain
# KAFKA_USERNAME=your-api-key
# KAFKA_PASSWORD=your-api-secret

